/*
 * This is a manifest file that'll be compiled into application.css, which will include all the files
 * listed below.
 *
 * Any CSS and SCSS file within this directory, lib/assets/stylesheets, vendor/assets/stylesheets,
 * or any plugin's vendor/assets/stylesheets directory can be referenced here using a relative path.
 *
 * You're free to add application-wide styles to this file and they'll appear at the bottom of the
 * compiled file so the styles you add here take precedence over styles defined in any styles
 * defined in the other CSS/SCSS files in this directory. It is generally better to create a new
 * file per style scope.
 *
 *= require_tree .
 *= require_self
 */

/* We're inheriting these z-indices from our css plugin.
   All new indices must be outside this range.  */

$zMax: 20000;
$zMin: 1;

$z-layers: (
  "scrollbar": $zMax + 512,
  "navbar": $zMax + 144,
  "ghost": $zMax + 143
);

@function z($layer) {
  @return map-get($z-layers, $layer);
}

@function z($layer) {
  @if not map-has-key($z-layers, $layer) {
    @warn "No layer found for `#{$layer}` in $z-layers map. Property omitted.";
  }

  @return map-get($z-layers, $layer);
}

@mixin center() {
  margin-right: auto;
  margin-left: auto;
}

@mixin vertical-align-center() {
  position: relative;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}

@mixin expand-to-fill-contents() {
  overflow: auto;

  :before, :after {
    display: table;
    content: '';
  }
  :after {
    clear: both;
  }
}

html, body {
  height: 100%;
}

$headerHeight: 60px;
$footerHeight: 60px;

#page-wrapper {
  min-height: 100%;
}

#header-wrapper {
  z-index: z("navbar");
  position: fixed;
  width: 100%;
  top: 0;
}

#page-wrapper {
  margin-bottom: -$footerHeight;
  position: relative;
}

.clear-footer {
  height: $footerHeight;
  clear: both;
}

body {
  background-image: url('/assets/bridge-at-night.jpg');
  background-size: cover;
}

#footer-wrapper {
  &after {
    background-image: inherit;
  }

  height: $footerHeight;
  z-index: z("navbar");
  position: relative;
  width: 100%;
}

#footer {
  @include vertical-align-center();
}

body {
  &:not(.splash) {
    #main-wrapper {
      margin-top: $headerHeight;

      background-image: url('/images/light_bulb_gradient.jpg');
      background-repeat: no-repeat;
      background-size: 100% auto;
    }
  }

  &.splash {
    background: #32373d;

    &:not(.finished-loading) #banner {
      opacity: 0;
    }

    &.finished-loading #banner {
      opacity: 1;

      -webkit-transition: opacity 400ms ease-in;
      -moz-transition: opacity 400ms ease-in;
      -o-transition: opacity 400ms ease-in;
      -ms-transition: opacity 400ms ease-in;
      transition: opacity 400ms ease-in;
    }
  }
}

#copyright {
  color: #dddddd;
}

#banner {
  position: fixed;
  width: 100%;

  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;

  a {color: #ffffff;}

  > section {
    &:not(.active) {
      display: none;
      opacity: 0;

      -webkit-transition: opacity 400ms ease-in-out;
      -moz-transition: opacity 400ms ease-in-out;
      -o-transition: opacity 400ms ease-in-out;
      -ms-transition: opacity 400ms ease-in-out;
      transition: opacity 400ms ease-in-out;
    }

    &.active {
      display: block;
      opacity: 1;

      -webkit-transition: opacity 400ms ease-in-out;
      -moz-transition: opacity 400ms ease-in-out;
      -o-transition: opacity 400ms ease-in-out;
      -ms-transition: opacity 400ms ease-in-out;
      transition: opacity 400ms ease-in-out;
    }
  }
}

.style2 > li > h3 > a {
  color: #000000;
}
